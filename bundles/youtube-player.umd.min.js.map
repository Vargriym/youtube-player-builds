{"version":3,"sources":["src/youtube-player/youtube-player.umd.js"],"names":["global","factory","exports","module","require","define","amd","self","ng","youtubePlayer","core","common","rxjs","operators","this","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__read","o","m","Symbol","iterator","r","e","ar","next","done","push","value","error","__spread","concat","DEFAULT_PLAYER_WIDTH","DEFAULT_PLAYER_HEIGHT","YouTubePlayer","_ngZone","platformId","_videoId","BehaviorSubject","undefined","_height","_width","_startSeconds","_endSeconds","_suggestedQuality","ready","EventEmitter","stateChange","apiChange","playbackQualityChange","playbackRateChange","_youtubeContainer","Subject","_destroyed","_isBrowser","isPlatformBrowser","window","defineProperty","get","set","videoId","enumerable","configurable","height","width","startSeconds","endSeconds","suggestedQuality","ngOnInit","_this","iframeApiAvailableObs","of","YT","showBeforeIframeApiLoads","Error","iframeApiAvailableSubject_1","_existingApiReadyCallback","onYouTubeIframeAPIReady","run","pipe","take","startWith","playerObs","createPlayerObservable","youtubeContainer","videoIdObs","widthObs","heightObs","events","ngZone","playerOptions","withLatestFrom","combineLatest","map","_a","_b","_c","skipUntilRememberLatest","notifier","skipWhile","scan","syncPlayerState","distinctUntilChanged","createEventsBoundInZone","waitUntilReady","onAbort","flatMap","player","playerIsReady","Observable","emitter","aborted","resolved","onReady","event","target","removeEventListener","addEventListener","destroy","takeUntil","publish","subscribe","_player","_pendingPlayerState","_initializePlayer","bindSizeToPlayer","setSize","bindSuggestedQualityToPlayer","suggestedQualityObs","setPlaybackQuality","bindCueVideoCall","startSecondsObs","endSecondsObs","destroyed","cueOptionsObs","filteredCueOptions","filterOnOther","hasPlayerStarted","state","getPlayerState","changedVideoId","changedPlayer","cueOptions","merge","cueVideoById","connect","output","Map","forEach","name","observers","_runInZone","emit","ngAfterViewInit","nativeElement","ngOnDestroy","complete","callback","args","_i","playVideo","_getPendingState","playbackState","pauseVideo","stopVideo","seekTo","seconds","allowSeekAhead","seek","mute","muted","unMute","isMuted","setVolume","volume","getVolume","setPlaybackRate","playbackRate","getPlaybackRate","getAvailablePlaybackRates","getVideoLoadedFraction","getCurrentTime","getPlaybackQuality","getAvailableQualityLevels","getDuration","getVideoUrl","getVideoEmbedCode","decorators","type","Component","selector","changeDetection","ChangeDetectionStrategy","OnPush","encapsulation","ViewEncapsulation","None","template","ctorParameters","NgZone","Optional","Inject","PLATFORM_ID","propDecorators","Input","Output","ViewChild","container","videoOptions","newPlayer","runOutsideAngular","Player","otherObs","filterFn","filter","COMPONENTS","YouTubePlayerModule","NgModule","declarations"],"mappings":"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","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('@angular/common'), require('rxjs'), require('rxjs/operators')) :\n    typeof define === 'function' && define.amd ? define('@angular/youtube-player', ['exports', '@angular/core', '@angular/common', 'rxjs', 'rxjs/operators'], factory) :\n    (global = global || self, factory((global.ng = global.ng || {}, global.ng.youtubePlayer = {}), global.ng.core, global.ng.common, global.rxjs, global.rxjs.operators));\n}(this, (function (exports, core, common, rxjs, operators) { 'use strict';\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation. All rights reserved.\r\n    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n    this file except in compliance with the License. You may obtain a copy of the\r\n    License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n    MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n    See the Apache Version 2.0 License for specific language governing permissions\r\n    and limitations under the License.\r\n    ***************************************************************************** */\r\n    /* global Reflect, Promise */\r\n\r\n    var extendStatics = function(d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n\r\n    function __extends(d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    }\r\n\r\n    var __assign = function() {\r\n        __assign = Object.assign || function __assign(t) {\r\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n                s = arguments[i];\r\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n            }\r\n            return t;\r\n        };\r\n        return __assign.apply(this, arguments);\r\n    };\r\n\r\n    function __rest(s, e) {\r\n        var t = {};\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n            t[p] = s[p];\r\n        if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n            for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n                if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                    t[p[i]] = s[p[i]];\r\n            }\r\n        return t;\r\n    }\r\n\r\n    function __decorate(decorators, target, key, desc) {\r\n        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n        if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n        return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n    }\r\n\r\n    function __param(paramIndex, decorator) {\r\n        return function (target, key) { decorator(target, key, paramIndex); }\r\n    }\r\n\r\n    function __metadata(metadataKey, metadataValue) {\r\n        if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n    }\r\n\r\n    function __awaiter(thisArg, _arguments, P, generator) {\r\n        return new (P || (P = Promise))(function (resolve, reject) {\r\n            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n            function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n            function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n        });\r\n    }\r\n\r\n    function __generator(thisArg, body) {\r\n        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n        return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n        function verb(n) { return function (v) { return step([n, v]); }; }\r\n        function step(op) {\r\n            if (f) throw new TypeError(\"Generator is already executing.\");\r\n            while (_) try {\r\n                if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n                if (y = 0, t) op = [op[0] & 2, t.value];\r\n                switch (op[0]) {\r\n                    case 0: case 1: t = op; break;\r\n                    case 4: _.label++; return { value: op[1], done: false };\r\n                    case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                    case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                    default:\r\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                        if (t[2]) _.ops.pop();\r\n                        _.trys.pop(); continue;\r\n                }\r\n                op = body.call(thisArg, _);\r\n            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n        }\r\n    }\r\n\r\n    function __exportStar(m, exports) {\r\n        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n    }\r\n\r\n    function __values(o) {\r\n        var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n        if (m) return m.call(o);\r\n        return {\r\n            next: function () {\r\n                if (o && i >= o.length) o = void 0;\r\n                return { value: o && o[i++], done: !o };\r\n            }\r\n        };\r\n    }\r\n\r\n    function __read(o, n) {\r\n        var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n        if (!m) return o;\r\n        var i = m.call(o), r, ar = [], e;\r\n        try {\r\n            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n        }\r\n        catch (error) { e = { error: error }; }\r\n        finally {\r\n            try {\r\n                if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n            }\r\n            finally { if (e) throw e.error; }\r\n        }\r\n        return ar;\r\n    }\r\n\r\n    function __spread() {\r\n        for (var ar = [], i = 0; i < arguments.length; i++)\r\n            ar = ar.concat(__read(arguments[i]));\r\n        return ar;\r\n    }\r\n\r\n    function __spreadArrays() {\r\n        for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n        for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n            for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n                r[k] = a[j];\r\n        return r;\r\n    };\r\n\r\n    function __await(v) {\r\n        return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n    }\r\n\r\n    function __asyncGenerator(thisArg, _arguments, generator) {\r\n        if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n        var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n        return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n        function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n        function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n        function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n        function fulfill(value) { resume(\"next\", value); }\r\n        function reject(value) { resume(\"throw\", value); }\r\n        function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n    }\r\n\r\n    function __asyncDelegator(o) {\r\n        var i, p;\r\n        return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n        function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n    }\r\n\r\n    function __asyncValues(o) {\r\n        if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n        var m = o[Symbol.asyncIterator], i;\r\n        return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n        function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n        function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n    }\r\n\r\n    function __makeTemplateObject(cooked, raw) {\r\n        if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n        return cooked;\r\n    };\r\n\r\n    function __importStar(mod) {\r\n        if (mod && mod.__esModule) return mod;\r\n        var result = {};\r\n        if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n        result.default = mod;\r\n        return result;\r\n    }\r\n\r\n    function __importDefault(mod) {\r\n        return (mod && mod.__esModule) ? mod : { default: mod };\r\n    }\n\n    /**\n     * @license\n     * Copyright Google LLC All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var DEFAULT_PLAYER_WIDTH = 640;\n    var DEFAULT_PLAYER_HEIGHT = 390;\n    /**\n     * Angular component that renders a YouTube player via the YouTube player\n     * iframe API.\n     * @see https://developers.google.com/youtube/iframe_api_reference\n     */\n    var YouTubePlayer = /** @class */ (function () {\n        function YouTubePlayer(_ngZone, \n        /**\n         * @deprecated `platformId` parameter to become required.\n         * @breaking-change 10.0.0\n         */\n        platformId) {\n            this._ngZone = _ngZone;\n            this._videoId = new rxjs.BehaviorSubject(undefined);\n            this._height = new rxjs.BehaviorSubject(DEFAULT_PLAYER_HEIGHT);\n            this._width = new rxjs.BehaviorSubject(DEFAULT_PLAYER_WIDTH);\n            this._startSeconds = new rxjs.BehaviorSubject(undefined);\n            this._endSeconds = new rxjs.BehaviorSubject(undefined);\n            this._suggestedQuality = new rxjs.BehaviorSubject(undefined);\n            /** Outputs are direct proxies from the player itself. */\n            this.ready = new core.EventEmitter();\n            this.stateChange = new core.EventEmitter();\n            this.error = new core.EventEmitter();\n            this.apiChange = new core.EventEmitter();\n            this.playbackQualityChange = new core.EventEmitter();\n            this.playbackRateChange = new core.EventEmitter();\n            this._youtubeContainer = new rxjs.Subject();\n            this._destroyed = new rxjs.Subject();\n            // @breaking-change 10.0.0 Remove null check for `platformId`.\n            this._isBrowser =\n                platformId ? common.isPlatformBrowser(platformId) : typeof window === 'object' && !!window;\n        }\n        Object.defineProperty(YouTubePlayer.prototype, \"videoId\", {\n            /** YouTube Video ID to view */\n            get: function () { return this._videoId.value; },\n            set: function (videoId) {\n                this._videoId.next(videoId);\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(YouTubePlayer.prototype, \"height\", {\n            /** Height of video player */\n            get: function () { return this._height.value; },\n            set: function (height) {\n                this._height.next(height || DEFAULT_PLAYER_HEIGHT);\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(YouTubePlayer.prototype, \"width\", {\n            /** Width of video player */\n            get: function () { return this._width.value; },\n            set: function (width) {\n                this._width.next(width || DEFAULT_PLAYER_WIDTH);\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(YouTubePlayer.prototype, \"startSeconds\", {\n            /** The moment when the player is supposed to start playing */\n            set: function (startSeconds) {\n                this._startSeconds.next(startSeconds);\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(YouTubePlayer.prototype, \"endSeconds\", {\n            /** The moment when the player is supposed to stop playing */\n            set: function (endSeconds) {\n                this._endSeconds.next(endSeconds);\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(YouTubePlayer.prototype, \"suggestedQuality\", {\n            /** The suggested quality of the player */\n            set: function (suggestedQuality) {\n                this._suggestedQuality.next(suggestedQuality);\n            },\n            enumerable: true,\n            configurable: true\n        });\n        YouTubePlayer.prototype.ngOnInit = function () {\n            var _this = this;\n            // Don't do anything if we're not in a browser environment.\n            if (!this._isBrowser) {\n                return;\n            }\n            var iframeApiAvailableObs = rxjs.of(true);\n            if (!window.YT) {\n                if (this.showBeforeIframeApiLoads) {\n                    throw new Error('Namespace YT not found, cannot construct embedded youtube player. ' +\n                        'Please install the YouTube Player API Reference for iframe Embeds: ' +\n                        'https://developers.google.com/youtube/iframe_api_reference');\n                }\n                var iframeApiAvailableSubject_1 = new rxjs.Subject();\n                this._existingApiReadyCallback = window.onYouTubeIframeAPIReady;\n                window.onYouTubeIframeAPIReady = function () {\n                    if (_this._existingApiReadyCallback) {\n                        _this._existingApiReadyCallback();\n                    }\n                    _this._ngZone.run(function () { return iframeApiAvailableSubject_1.next(true); });\n                };\n                iframeApiAvailableObs = iframeApiAvailableSubject_1.pipe(operators.take(1), operators.startWith(false));\n            }\n            // An observable of the currently loaded player.\n            var playerObs = createPlayerObservable(this._youtubeContainer, this._videoId, iframeApiAvailableObs, this._width, this._height, this.createEventsBoundInZone(), this._ngZone).pipe(waitUntilReady(function (player) {\n                // Destroy the player if loading was aborted so that we don't end up leaking memory.\n                if (!playerIsReady(player)) {\n                    player.destroy();\n                }\n            }), operators.takeUntil(this._destroyed), operators.publish());\n            // Set up side effects to bind inputs to the player.\n            playerObs.subscribe(function (player) {\n                _this._player = player;\n                if (player && _this._pendingPlayerState) {\n                    _this._initializePlayer(player, _this._pendingPlayerState);\n                }\n                _this._pendingPlayerState = undefined;\n            });\n            bindSizeToPlayer(playerObs, this._width, this._height);\n            bindSuggestedQualityToPlayer(playerObs, this._suggestedQuality);\n            bindCueVideoCall(playerObs, this._videoId, this._startSeconds, this._endSeconds, this._suggestedQuality, this._destroyed);\n            // After all of the subscriptions are set up, connect the observable.\n            playerObs.connect();\n        };\n        YouTubePlayer.prototype.createEventsBoundInZone = function () {\n            var _this = this;\n            var output = {};\n            var events = new Map([\n                ['onReady', this.ready],\n                ['onStateChange', this.stateChange],\n                ['onPlaybackQualityChange', this.playbackQualityChange],\n                ['onPlaybackRateChange', this.playbackRateChange],\n                ['onError', this.error],\n                ['onApiChange', this.apiChange]\n            ]);\n            events.forEach(function (emitter, name) {\n                // Since these events all trigger change detection, only bind them if something is subscribed.\n                if (emitter.observers.length) {\n                    output[name] = _this._runInZone(function (event) { return emitter.emit(event); });\n                }\n            });\n            return output;\n        };\n        YouTubePlayer.prototype.ngAfterViewInit = function () {\n            this._youtubeContainer.next(this.youtubeContainer.nativeElement);\n        };\n        YouTubePlayer.prototype.ngOnDestroy = function () {\n            if (this._player) {\n                this._player.destroy();\n                window.onYouTubeIframeAPIReady = this._existingApiReadyCallback;\n            }\n            this._videoId.complete();\n            this._height.complete();\n            this._width.complete();\n            this._startSeconds.complete();\n            this._endSeconds.complete();\n            this._suggestedQuality.complete();\n            this._youtubeContainer.complete();\n            this._destroyed.next();\n            this._destroyed.complete();\n        };\n        YouTubePlayer.prototype._runInZone = function (callback) {\n            var _this = this;\n            return function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                return _this._ngZone.run(function () { return callback.apply(void 0, __spread(args)); });\n            };\n        };\n        /** Proxied methods. */\n        /** See https://developers.google.com/youtube/iframe_api_reference#playVideo */\n        YouTubePlayer.prototype.playVideo = function () {\n            if (this._player) {\n                this._player.playVideo();\n            }\n            else {\n                this._getPendingState().playbackState = 1 /* PLAYING */;\n            }\n        };\n        /** See https://developers.google.com/youtube/iframe_api_reference#pauseVideo */\n        YouTubePlayer.prototype.pauseVideo = function () {\n            if (this._player) {\n                this._player.pauseVideo();\n            }\n            else {\n                this._getPendingState().playbackState = 2 /* PAUSED */;\n            }\n        };\n        /** See https://developers.google.com/youtube/iframe_api_reference#stopVideo */\n        YouTubePlayer.prototype.stopVideo = function () {\n            if (this._player) {\n                this._player.stopVideo();\n            }\n            else {\n                // It seems like YouTube sets the player to CUED when it's stopped.\n                this._getPendingState().playbackState = 5 /* CUED */;\n            }\n        };\n        /** See https://developers.google.com/youtube/iframe_api_reference#seekTo */\n        YouTubePlayer.prototype.seekTo = function (seconds, allowSeekAhead) {\n            if (this._player) {\n                this._player.seekTo(seconds, allowSeekAhead);\n            }\n            else {\n                this._getPendingState().seek = { seconds: seconds, allowSeekAhead: allowSeekAhead };\n            }\n        };\n        /** See https://developers.google.com/youtube/iframe_api_reference#mute */\n        YouTubePlayer.prototype.mute = function () {\n            if (this._player) {\n                this._player.mute();\n            }\n            else {\n                this._getPendingState().muted = true;\n            }\n        };\n        /** See https://developers.google.com/youtube/iframe_api_reference#unMute */\n        YouTubePlayer.prototype.unMute = function () {\n            if (this._player) {\n                this._player.unMute();\n            }\n            else {\n                this._getPendingState().muted = false;\n            }\n        };\n        /** See https://developers.google.com/youtube/iframe_api_reference#isMuted */\n        YouTubePlayer.prototype.isMuted = function () {\n            if (this._player) {\n                return this._player.isMuted();\n            }\n            if (this._pendingPlayerState) {\n                return !!this._pendingPlayerState.muted;\n            }\n            return false;\n        };\n        /** See https://developers.google.com/youtube/iframe_api_reference#setVolume */\n        YouTubePlayer.prototype.setVolume = function (volume) {\n            if (this._player) {\n                this._player.setVolume(volume);\n            }\n            else {\n                this._getPendingState().volume = volume;\n            }\n        };\n        /** See https://developers.google.com/youtube/iframe_api_reference#getVolume */\n        YouTubePlayer.prototype.getVolume = function () {\n            if (this._player) {\n                return this._player.getVolume();\n            }\n            if (this._pendingPlayerState && this._pendingPlayerState.volume != null) {\n                return this._pendingPlayerState.volume;\n            }\n            return 0;\n        };\n        /** See https://developers.google.com/youtube/iframe_api_reference#setPlaybackRate */\n        YouTubePlayer.prototype.setPlaybackRate = function (playbackRate) {\n            if (this._player) {\n                return this._player.setPlaybackRate(playbackRate);\n            }\n            else {\n                this._getPendingState().playbackRate = playbackRate;\n            }\n        };\n        /** See https://developers.google.com/youtube/iframe_api_reference#getPlaybackRate */\n        YouTubePlayer.prototype.getPlaybackRate = function () {\n            if (this._player) {\n                return this._player.getPlaybackRate();\n            }\n            if (this._pendingPlayerState && this._pendingPlayerState.playbackRate != null) {\n                return this._pendingPlayerState.playbackRate;\n            }\n            return 0;\n        };\n        /** See https://developers.google.com/youtube/iframe_api_reference#getAvailablePlaybackRates */\n        YouTubePlayer.prototype.getAvailablePlaybackRates = function () {\n            return this._player ? this._player.getAvailablePlaybackRates() : [];\n        };\n        /** See https://developers.google.com/youtube/iframe_api_reference#getVideoLoadedFraction */\n        YouTubePlayer.prototype.getVideoLoadedFraction = function () {\n            return this._player ? this._player.getVideoLoadedFraction() : 0;\n        };\n        /** See https://developers.google.com/youtube/iframe_api_reference#getPlayerState */\n        YouTubePlayer.prototype.getPlayerState = function () {\n            if (!this._isBrowser || !window.YT) {\n                return undefined;\n            }\n            if (this._player) {\n                return this._player.getPlayerState();\n            }\n            if (this._pendingPlayerState && this._pendingPlayerState.playbackState != null) {\n                return this._pendingPlayerState.playbackState;\n            }\n            return -1 /* UNSTARTED */;\n        };\n        /** See https://developers.google.com/youtube/iframe_api_reference#getCurrentTime */\n        YouTubePlayer.prototype.getCurrentTime = function () {\n            if (this._player) {\n                return this._player.getCurrentTime();\n            }\n            if (this._pendingPlayerState && this._pendingPlayerState.seek) {\n                return this._pendingPlayerState.seek.seconds;\n            }\n            return 0;\n        };\n        /** See https://developers.google.com/youtube/iframe_api_reference#getPlaybackQuality */\n        YouTubePlayer.prototype.getPlaybackQuality = function () {\n            return this._player ? this._player.getPlaybackQuality() : 'default';\n        };\n        /** See https://developers.google.com/youtube/iframe_api_reference#getAvailableQualityLevels */\n        YouTubePlayer.prototype.getAvailableQualityLevels = function () {\n            return this._player ? this._player.getAvailableQualityLevels() : [];\n        };\n        /** See https://developers.google.com/youtube/iframe_api_reference#getDuration */\n        YouTubePlayer.prototype.getDuration = function () {\n            return this._player ? this._player.getDuration() : 0;\n        };\n        /** See https://developers.google.com/youtube/iframe_api_reference#getVideoUrl */\n        YouTubePlayer.prototype.getVideoUrl = function () {\n            return this._player ? this._player.getVideoUrl() : '';\n        };\n        /** See https://developers.google.com/youtube/iframe_api_reference#getVideoEmbedCode */\n        YouTubePlayer.prototype.getVideoEmbedCode = function () {\n            return this._player ? this._player.getVideoEmbedCode() : '';\n        };\n        /** Gets an object that should be used to store the temporary API state. */\n        YouTubePlayer.prototype._getPendingState = function () {\n            if (!this._pendingPlayerState) {\n                this._pendingPlayerState = {};\n            }\n            return this._pendingPlayerState;\n        };\n        /** Initializes a player from a temporary state. */\n        YouTubePlayer.prototype._initializePlayer = function (player, state) {\n            var playbackState = state.playbackState, playbackRate = state.playbackRate, volume = state.volume, muted = state.muted, seek = state.seek;\n            switch (playbackState) {\n                case 1 /* PLAYING */:\n                    player.playVideo();\n                    break;\n                case 2 /* PAUSED */:\n                    player.pauseVideo();\n                    break;\n                case 5 /* CUED */:\n                    player.stopVideo();\n                    break;\n            }\n            if (playbackRate != null) {\n                player.setPlaybackRate(playbackRate);\n            }\n            if (volume != null) {\n                player.setVolume(volume);\n            }\n            if (muted != null) {\n                muted ? player.mute() : player.unMute();\n            }\n            if (seek != null) {\n                player.seekTo(seek.seconds, seek.allowSeekAhead);\n            }\n        };\n        YouTubePlayer.decorators = [\n            { type: core.Component, args: [{\n                        selector: 'youtube-player',\n                        changeDetection: core.ChangeDetectionStrategy.OnPush,\n                        encapsulation: core.ViewEncapsulation.None,\n                        // This div is *replaced* by the YouTube player embed.\n                        template: '<div #youtubeContainer></div>'\n                    }] }\n        ];\n        /** @nocollapse */\n        YouTubePlayer.ctorParameters = function () { return [\n            { type: core.NgZone },\n            { type: Object, decorators: [{ type: core.Optional }, { type: core.Inject, args: [core.PLATFORM_ID,] }] }\n        ]; };\n        YouTubePlayer.propDecorators = {\n            videoId: [{ type: core.Input }],\n            height: [{ type: core.Input }],\n            width: [{ type: core.Input }],\n            startSeconds: [{ type: core.Input }],\n            endSeconds: [{ type: core.Input }],\n            suggestedQuality: [{ type: core.Input }],\n            showBeforeIframeApiLoads: [{ type: core.Input }],\n            ready: [{ type: core.Output }],\n            stateChange: [{ type: core.Output }],\n            error: [{ type: core.Output }],\n            apiChange: [{ type: core.Output }],\n            playbackQualityChange: [{ type: core.Output }],\n            playbackRateChange: [{ type: core.Output }],\n            youtubeContainer: [{ type: core.ViewChild, args: ['youtubeContainer',] }]\n        };\n        return YouTubePlayer;\n    }());\n    /** Listens to changes to the given width and height and sets it on the player. */\n    function bindSizeToPlayer(playerObs, widthObs, heightObs) {\n        return rxjs.combineLatest([playerObs, widthObs, heightObs])\n            .subscribe(function (_a) {\n            var _b = __read(_a, 3), player = _b[0], width = _b[1], height = _b[2];\n            return player && player.setSize(width, height);\n        });\n    }\n    /** Listens to changes from the suggested quality and sets it on the given player. */\n    function bindSuggestedQualityToPlayer(playerObs, suggestedQualityObs) {\n        return rxjs.combineLatest([\n            playerObs,\n            suggestedQualityObs\n        ]).subscribe(function (_a) {\n            var _b = __read(_a, 2), player = _b[0], suggestedQuality = _b[1];\n            return player && suggestedQuality && player.setPlaybackQuality(suggestedQuality);\n        });\n    }\n    /**\n     * Returns an observable that emits the loaded player once it's ready. Certain properties/methods\n     * won't be available until the iframe finishes loading.\n     * @param onAbort Callback function that will be invoked if the player loading was aborted before\n     * it was able to complete. Can be used to clean up any loose references.\n     */\n    function waitUntilReady(onAbort) {\n        return operators.flatMap(function (player) {\n            if (!player) {\n                return rxjs.of(undefined);\n            }\n            if (playerIsReady(player)) {\n                return rxjs.of(player);\n            }\n            // Since removeEventListener is not on Player when it's initialized, we can't use fromEvent.\n            // The player is not initialized fully until the ready is called.\n            return new rxjs.Observable(function (emitter) {\n                var aborted = false;\n                var resolved = false;\n                var onReady = function (event) {\n                    resolved = true;\n                    if (!aborted) {\n                        event.target.removeEventListener('onReady', onReady);\n                        emitter.next(event.target);\n                    }\n                };\n                player.addEventListener('onReady', onReady);\n                return function () {\n                    aborted = true;\n                    if (!resolved) {\n                        onAbort(player);\n                    }\n                };\n            }).pipe(operators.take(1), operators.startWith(undefined));\n        });\n    }\n    /** Create an observable for the player based on the given options. */\n    function createPlayerObservable(youtubeContainer, videoIdObs, iframeApiAvailableObs, widthObs, heightObs, events, ngZone) {\n        var playerOptions = videoIdObs\n            .pipe(operators.withLatestFrom(rxjs.combineLatest([widthObs, heightObs])), operators.map(function (_a) {\n            var _b = __read(_a, 2), videoId = _b[0], _c = __read(_b[1], 2), width = _c[0], height = _c[1];\n            return videoId ? ({ videoId: videoId, width: width, height: height, events: events }) : undefined;\n        }));\n        return rxjs.combineLatest([youtubeContainer, playerOptions, rxjs.of(ngZone)])\n            .pipe(skipUntilRememberLatest(iframeApiAvailableObs), operators.scan(syncPlayerState, undefined), operators.distinctUntilChanged());\n    }\n    /** Skips the given observable until the other observable emits true, then emit the latest. */\n    function skipUntilRememberLatest(notifier) {\n        return rxjs.pipe(operators.combineLatest(notifier), operators.skipWhile(function (_a) {\n            var _b = __read(_a, 2), _ = _b[0], doneSkipping = _b[1];\n            return !doneSkipping;\n        }), operators.map(function (_a) {\n            var _b = __read(_a, 1), value = _b[0];\n            return value;\n        }));\n    }\n    /** Destroy the player if there are no options, or create the player if there are options. */\n    function syncPlayerState(player, _a) {\n        var _b = __read(_a, 3), container = _b[0], videoOptions = _b[1], ngZone = _b[2];\n        if (!videoOptions) {\n            if (player) {\n                player.destroy();\n            }\n            return;\n        }\n        if (player) {\n            return player;\n        }\n        // Important! We need to create the Player object outside of the `NgZone`, because it kicks\n        // off a 250ms setInterval which will continually trigger change detection if we don't.\n        var newPlayer = ngZone.runOutsideAngular(function () { return new YT.Player(container, videoOptions); });\n        // Bind videoId for future use.\n        newPlayer.videoId = videoOptions.videoId;\n        return newPlayer;\n    }\n    /**\n     * Call cueVideoById if the videoId changes, or when start or end seconds change. cueVideoById will\n     * change the loaded video id to the given videoId, and set the start and end times to the given\n     * start/end seconds.\n     */\n    function bindCueVideoCall(playerObs, videoIdObs, startSecondsObs, endSecondsObs, suggestedQualityObs, destroyed) {\n        var cueOptionsObs = rxjs.combineLatest([startSecondsObs, endSecondsObs])\n            .pipe(operators.map(function (_a) {\n            var _b = __read(_a, 2), startSeconds = _b[0], endSeconds = _b[1];\n            return ({ startSeconds: startSeconds, endSeconds: endSeconds });\n        }));\n        // Only respond to changes in cue options if the player is not running.\n        var filteredCueOptions = cueOptionsObs\n            .pipe(filterOnOther(playerObs, function (player) { return !!player && !hasPlayerStarted(player); }));\n        // If the video id changed, there's no reason to run 'cue' unless the player\n        // was initialized with a different video id.\n        var changedVideoId = videoIdObs\n            .pipe(filterOnOther(playerObs, function (player, videoId) { return !!player && player.videoId !== videoId; }));\n        // If the player changed, there's no reason to run 'cue' unless there are cue options.\n        var changedPlayer = playerObs.pipe(filterOnOther(rxjs.combineLatest([videoIdObs, cueOptionsObs]), function (_a, player) {\n            var _b = __read(_a, 2), videoId = _b[0], cueOptions = _b[1];\n            return !!player &&\n                (videoId != player.videoId || !!cueOptions.startSeconds || !!cueOptions.endSeconds);\n        }));\n        rxjs.merge(changedPlayer, changedVideoId, filteredCueOptions)\n            .pipe(operators.withLatestFrom(rxjs.combineLatest([playerObs, videoIdObs, cueOptionsObs, suggestedQualityObs])), operators.map(function (_a) {\n            var _b = __read(_a, 2), _ = _b[0], values = _b[1];\n            return values;\n        }), operators.takeUntil(destroyed))\n            .subscribe(function (_a) {\n            var _b = __read(_a, 4), player = _b[0], videoId = _b[1], cueOptions = _b[2], suggestedQuality = _b[3];\n            if (!videoId || !player) {\n                return;\n            }\n            player.videoId = videoId;\n            player.cueVideoById(__assign({ videoId: videoId,\n                suggestedQuality: suggestedQuality }, cueOptions));\n        });\n    }\n    function hasPlayerStarted(player) {\n        var state = player.getPlayerState();\n        return state !== -1 /* UNSTARTED */ && state !== 5 /* CUED */;\n    }\n    function playerIsReady(player) {\n        return 'getPlayerStatus' in player;\n    }\n    /** Combines the two observables temporarily for the filter function. */\n    function filterOnOther(otherObs, filterFn) {\n        return rxjs.pipe(operators.withLatestFrom(otherObs), operators.filter(function (_a) {\n            var _b = __read(_a, 2), value = _b[0], other = _b[1];\n            return filterFn(other, value);\n        }), operators.map(function (_a) {\n            var _b = __read(_a, 1), value = _b[0];\n            return value;\n        }));\n    }\n\n    /**\n     * @license\n     * Copyright Google LLC All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var COMPONENTS = [YouTubePlayer];\n    var YouTubePlayerModule = /** @class */ (function () {\n        function YouTubePlayerModule() {\n        }\n        YouTubePlayerModule.decorators = [\n            { type: core.NgModule, args: [{\n                        declarations: COMPONENTS,\n                        exports: COMPONENTS,\n                    },] }\n        ];\n        return YouTubePlayerModule;\n    }());\n\n    /**\n     * @license\n     * Copyright Google LLC All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n\n    /**\n     * Generated bundle index. Do not edit.\n     */\n\n    exports.YouTubePlayer = YouTubePlayer;\n    exports.YouTubePlayerModule = YouTubePlayerModule;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=youtube-player.umd.js.map\n"]}